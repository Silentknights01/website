<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ø§Ù…ØªØ­Ø§Ù†   (Ù†Ø³Ø®Ù‡ Ú©Ø§Ù…Ù„ Û´Û° Ø³ÙˆØ§Ù„ÛŒ)</title>
    <style>
        /* ========== VARIABLES ========== */
        :root{
            --font-main: "Vazirmatn", "Segoe UI", Tahoma, Geneva, Verdana, sans-serif;
            --font-mono: "Fira Code", "Cascadia Code", ui-monospace, SFMono-Regular, Menlo, Monaco, monospace;

            /* Silent Knights Brand Colors */
            --color-primary: #E31E27;
            --color-primary-dark: #15151F;
            --color-secondary: #999A93;
            --color-accent: #E31E27;
            --color-neon: #F8F8F8;
            --color-bg: #030d33;
            --color-bg-secondary: #0A0A0F;
            --color-bg-card: #1A1A24;
            --color-gray: #999A93;
            --color-light: #F8F8F8;
            --color-text: #F8F8F8;
            --color-text-muted: #999A93;

            /* Enhanced Shadows & Effects */
            --radius: 16px;
            --radius-small: 8px;
            --shadow: 0 8px 32px rgba(227, 30, 39, 0.3);
            --shadow-neon: 0 0 20px rgba(227, 30, 39, 0.4);
            --shadow-glow: 0 0 40px rgba(227, 30, 39, 0.2);
            --nav-height: 70px;
            
            /* Animation Speeds */
            --transition-fast: 0.2s;
            --transition-normal: 0.3s;
            --transition-slow: 0.5s;
        }

        /* ========== RESET & BASE ========== */
        *{box-sizing:border-box;margin:0;padding:0}
        html{scroll-behavior:smooth}

        html, body {
            font-family: var(--font-main);
            font-weight: 400;
            font-synthesis: none;
            -webkit-font-smoothing: antialiased;
            -moz-osx-font-smoothing: grayscale;
            background: linear-gradient(135deg, var(--color-bg) 0%, var(--color-bg-secondary) 100%);
            color: var(--color-text);
            line-height: 1.8;
            min-height: 100vh;
            overflow-x: hidden;
            padding: 0;
        }

        .container {
            max-width: 1000px;
            margin: 0 auto;
            padding: 20px;
        }
        
        header {
            text-align: center;
            padding: 30px 0;
            margin-bottom: 30px;
            border-bottom: 1px solid rgba(153,154,147,.25);
            position: relative;
        }

        header::after {
            content: '';
            position: absolute;
            bottom: -1px;
            left: 50%;
            transform: translateX(-50%);
            width: 200px;
            height: 2px;
            background: linear-gradient(90deg, 
                transparent 0%, 
                var(--color-primary) 50%, 
                transparent 100%);
        }

        h1 {
            font-size: 2.5rem;
            margin-bottom: 10px;
            color: var(--color-primary);
            text-shadow: 0 0 20px rgba(227, 30, 39, 0.5);
        }
        
        .subtitle {
            font-size: 1.2rem;
            opacity: 0.8;
            margin-bottom: 20px;
            color: var(--color-text-muted);
        }
        
        .timer-container {
            background: var(--color-bg-card);
            padding: 15px;
            border-radius: var(--radius);
            margin: 20px auto;
            max-width: 300px;
            border: 1px solid rgba(227, 30, 39, 0.3);
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .timer-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, 
                var(--color-primary), 
                var(--color-secondary));
            animation: scanline 3s linear infinite;
        }

        @keyframes scanline {
            0% { transform: translateX(-100%); }
            100% { transform: translateX(100%); }
        }
        
        #timer {
            font-size: 2.5rem;
            font-weight: bold;
            color: var(--color-primary);
            text-shadow: 0 0 10px rgba(227, 30, 39, 0.5);
            font-family: var(--font-mono);
        }
        
        .instructions {
            background: var(--color-bg-card);
            padding: 25px;
            border-radius: var(--radius);
            margin: 20px 0;
            border-right: 4px solid var(--color-primary);
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .instructions::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, 
                transparent 30%, 
                rgba(227, 30, 39, 0.05) 50%, 
                transparent 70%);
            pointer-events: none;
        }
        
        .instructions h2 {
            margin-bottom: 15px;
            color: var(--color-primary);
        }
        
        .instructions ul {
            margin-right: 20px;
            line-height: 1.8;
            color: var(--color-text);
        }
        
        .instructions li {
            margin-bottom: 10px;
            position: relative;
        }

        .instructions li::before {
            content: 'â–¶';
            color: var(--color-primary);
            position: absolute;
            right: -20px;
            font-size: 0.8em;
        }
        
        .question-container {
            background: var(--color-bg-card);
            padding: 25px;
            border-radius: var(--radius);
            margin: 20px 0;
            box-shadow: var(--shadow);
            border: 1px solid rgba(255,255,255,.03);
            position: relative;
            overflow: hidden;
        }

        .question-container::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, 
                var(--color-primary), 
                var(--color-secondary));
            transform: scaleX(0);
            transition: transform var(--transition-normal) ease;
        }

        .question-container:hover::before {
            transform: scaleX(1);
        }
        
        .question {
            margin-bottom: 30px;
            padding-bottom: 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .question-number {
            font-weight: bold;
            color: var(--color-primary);
            margin-bottom: 15px;
            font-size: 1.3rem;
            text-shadow: 0 0 10px rgba(227, 30, 39, 0.3);
        }
        
        .question-text {
            margin-bottom: 20px;
            line-height: 1.8;
            color: var(--color-text);
            font-size: 1.1rem;
            text-align: right;
            white-space: pre-wrap;
        }

        /* Ø§Ø³ØªØ§ÛŒÙ„ Ù…Ø®ØµÙˆØµ Ø³ÙˆØ§Ù„Ø§Øª Ú©Ø¯ */
        .code-question {
            background: #14212b;
            color: #e4f0fb;
            padding: 16px 22px;
            border-radius: 18px;
            font-family: var(--font-mono);
            direction: ltr;
            text-align: left;
            overflow-x: auto;
            margin: 12px 0 18px 0;
            border: 2px solid #1b5a7a;
            box-shadow: inset 0 0 10px #00000070;
            font-size: 1rem;
            line-height: 1.6;
            white-space: pre-wrap;
            word-wrap: break-word;
        }
        
        .answer-box {
            width: 100%;
            min-height: 120px;
            padding: 15px;
            border-radius: var(--radius-small);
            border: 1px solid rgba(153, 154, 147, 0.3);
            background: rgba(30, 30, 40, 0.8);
            color: var(--color-text);
            font-family: var(--font-main);
            font-size: 1rem;
            line-height: 1.6;
            resize: vertical;
            transition: all var(--transition-normal) ease;
            text-align: right;
        }

        .answer-box:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(227, 30, 39, 0.2);
            background: rgba(30, 30, 40, 0.9);
        }
        
        .btn-container {
            display: flex;
            justify-content: center;
            margin: 30px 0;
        }
        
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            padding: 15px 40px;
            background: linear-gradient(135deg, var(--color-primary) 0%, #c21820 100%);
            color: white;
            border: none;
            border-radius: var(--radius);
            font-family: var(--font-main);
            font-size: 1.2rem;
            font-weight: 600;
            cursor: pointer;
            transition: all var(--transition-normal) ease;
            box-shadow: var(--shadow);
            text-decoration: none;
            position: relative;
            overflow: hidden;
        }

        .btn::before {
            content: '';
            position: absolute;
            top: 0;
            left: -100%;
            width: 100%;
            height: 100%;
            background: linear-gradient(90deg, 
                transparent, 
                rgba(255, 255, 255, 0.2), 
                transparent);
            transition: left var(--transition-normal) ease;
        }

        .btn:hover::before {
            left: 100%;
        }
        
        .btn:hover {
            transform: translateY(-3px);
            box-shadow: var(--shadow-neon);
            filter: brightness(1.1);
        }
        
        .btn:active {
            transform: translateY(0);
        }
        
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(3, 13, 51, 0.95);
            z-index: 100;
            justify-content: center;
            align-items: center;
            -webkit-backdrop-filter: blur(8px);
            backdrop-filter: blur(8px);
        }
        
        .modal-content {
            background: linear-gradient(135deg, var(--color-bg-card) 0%, var(--color-primary-dark) 100%);
            padding: 40px;
            border-radius: var(--radius);
            max-width: 800px;
            width: 90%;
            max-height: 90vh;
            overflow-y: auto;
            text-align: center;
            box-shadow: var(--shadow-glow);
            border: 1px solid rgba(227, 30, 39, 0.3);
            color: var(--color-text);
            position: relative;
        }

        .modal-content::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, 
                var(--color-primary), 
                var(--color-secondary));
        }
        
        .modal h2 {
            color: var(--color-primary);
            margin-bottom: 20px;
            font-size: 2rem;
            text-shadow: 0 0 20px rgba(227, 30, 39, 0.5);
        }
        
        .modal p {
            margin-bottom: 25px;
            line-height: 1.8;
            color: var(--color-text-muted);
        }
        
        footer {
            text-align: center;
            margin-top: 40px;
            padding-top: 20px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--color-text-muted);
            font-size: 0.9rem;
        }
        
        /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù†ØªØ§ÛŒØ¬ */
        .results-container {
            text-align: right;
            margin-top: 20px;
        }
        
        .result-item {
            margin-bottom: 25px;
            padding: 20px;
            border-radius: var(--radius-small);
            background: rgba(30, 30, 40, 0.7);
            border-right: 5px solid var(--color-primary);
            transition: all var(--transition-normal) ease;
            text-align: right;
        }

        .result-item:hover {
            transform: translateX(-5px);
            box-shadow: var(--shadow);
        }
        
        .result-question {
            font-weight: bold;
            margin-bottom: 15px;
            color: var(--color-primary);
            font-size: 1.1rem;
            white-space: pre-wrap;
        }
        
        .result-answer {
            margin: 10px 0;
            padding: 15px;
            border-radius: var(--radius-small);
            background: rgba(40, 40, 50, 0.8);
            border: 1px solid rgba(255, 255, 255, 0.1);
            line-height: 1.6;
            white-space: pre-wrap;
        }
        
        .review-buttons {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-top: 20px;
            flex-wrap: wrap;
        }
        
        .review-btn {
            padding: 12px 24px;
            border: none;
            border-radius: var(--radius);
            cursor: pointer;
            font-weight: bold;
            transition: all var(--transition-normal) ease;
            font-family: var(--font-main);
        }
        
        #review-answers {
            background: linear-gradient(135deg, var(--color-primary) 0%, #c21820 100%);
            color: white;
            box-shadow: var(--shadow);
        }

        #review-answers:hover {
            transform: translateY(-2px);
            box-shadow: var(--shadow-neon);
        }
        
        #close-results {
            background: transparent;
            color: var(--color-text);
            border: 1px solid var(--color-secondary);
        }

        #close-results:hover {
            background: var(--color-secondary);
            transform: translateY(-2px);
        }
        
        /* Ø§Ø³ØªØ§ÛŒÙ„â€ŒÙ‡Ø§ÛŒ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ ÙØ±Ù… Ú©Ø§Ø±Ø¨Ø± */
        .user-form {
            background: var(--color-bg-card);
            padding: 30px;
            border-radius: var(--radius);
            margin: 20px 0;
            border-right: 4px solid var(--color-primary);
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
            text-align: right;
        }

        .user-form::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, 
                transparent 30%, 
                rgba(227, 30, 39, 0.05) 50%, 
                transparent 70%);
            pointer-events: none;
        }
        
        .form-group {
            margin-bottom: 20px;
            text-align: right;
        }
        
        .form-group label {
            display: block;
            margin-bottom: 8px;
            color: var(--color-primary);
            font-weight: 600;
        }
        
        .form-group input {
            width: 100%;
            padding: 15px;
            border-radius: var(--radius-small);
            border: 1px solid rgba(153, 154, 147, 0.3);
            background: rgba(30, 30, 40, 0.8);
            color: var(--color-text);
            font-size: 1rem;
            font-family: var(--font-main);
            transition: all var(--transition-normal) ease;
            text-align: right;
        }
        
        .form-group input:focus {
            outline: none;
            border-color: var(--color-primary);
            box-shadow: 0 0 0 3px rgba(227, 30, 39, 0.2);
            background: rgba(30, 30, 40, 0.9);
        }
        
        .user-info {
            text-align: center;
            margin-bottom: 20px;
            padding: 20px;
            background: var(--color-bg-card);
            border-radius: var(--radius);
            border-right: 4px solid var(--color-primary);
            box-shadow: var(--shadow);
        }
        
        .sending-email {
            display: none;
            margin-top: 20px;
            padding: 20px;
            background: var(--color-bg-card);
            border-radius: var(--radius);
            border-right: 4px solid var(--color-primary);
            box-shadow: var(--shadow);
            text-align: center;
        }

        .silent-knights-header {
            text-align: center;
            margin-bottom: 30px;
            padding: 20px;
            background: var(--color-bg-card);
            border-radius: var(--radius);
            border: 1px solid rgba(227, 30, 39, 0.3);
            box-shadow: var(--shadow);
            position: relative;
            overflow: hidden;
        }

        .silent-knights-header::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            height: 2px;
            background: linear-gradient(90deg, 
                var(--color-primary), 
                var(--color-secondary));
            animation: scanline 3s linear infinite;
        }

        .silent-knights-header h2 {
            color: var(--color-primary);
            font-size: 2rem;
            margin-bottom: 5px;
            text-shadow: 0 0 20px rgba(227, 30, 39, 0.5);
        }

        .silent-knights-header p {
            color: var(--color-text-muted);
            font-style: italic;
        }

        /* Cyberpunk Scrollbar */
        ::-webkit-scrollbar {
            width: 8px;
        }

        ::-webkit-scrollbar-track {
            background: var(--color-bg-secondary);
        }

        ::-webkit-scrollbar-thumb {
            background: var(--color-primary);
            border-radius: 4px;
        }

        ::-webkit-scrollbar-thumb:hover {
            background: var(--color-neon);
        }

        /* RTL Specific Styles */
        .form-group input::placeholder {
            text-align: right;
        }

        .answer-box::placeholder {
            color: var(--color-text-muted);
            text-align: right;
        }

        .time-warning {
            color: #ff5555;
            animation: pulse 1s infinite;
        }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .word-count {
            font-size: 0.8rem;
            color: var(--color-text-muted);
            margin-top: 5px;
            text-align: left;
        }
        
        /* Ø¹Ù†ÙˆØ§Ù† Ø¨Ø®Ø´ */
        .section-header {
            font-size: 1.8rem;
            color: var(--color-primary);
            border-right: 6px solid var(--color-primary);
            padding-right: 15px;
            margin: 40px 0 25px 0;
            background: linear-gradient(90deg, transparent, rgba(227,30,39,0.1));
            border-radius: 0 10px 10px 0;
        }
    </style>
    <link href="https://cdn.jsdelivr.net/gh/rastikerdar/vazirmatn@v33.003/Vazirmatn-font-face.css" rel="stylesheet">
</head>
<body>
    <div class="container">
        <div class="silent-knights-header">
            <h2>Silent Knights</h2>
            <p>ØªÛŒÙ… Ø§Ù…Ù†ÛŒØª Ø³Ø§ÛŒØ¨Ø±ÛŒ</p>
        </div>
        
        <header>
            <h1> (Û´Û° Ø³ÙˆØ§Ù„)</h1>
            <div class="subtitle">Ø°Ù‡Ù†ÛŒØª Ø®ÙˆØ¯ Ø±Ø§ Ø¯Ø± Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ø§ Ø¬ÙˆØ§Ø¨ Ø¯Ø§Ø¯Ù† Ø¨Ù‡ Ø³ÙˆØ§Ù„Ø§Øª ØªØ´Ø±ÛŒØ­ÛŒ Ø¨Ù‡ Ú†Ø§Ù„Ø´ Ø¨Ú©Ø´ÛŒØ¯</div>
            <div class="timer-container">
                <div id="timer">30:00</div>
            </div>
        </header>
        
        <div class="user-info" id="user-info" style="display: none;">
            <h3>Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø´Ø±Ú©Øª Ú©Ù†Ù†Ø¯Ù‡</h3>
            <p>Ù†Ø§Ù…: <span id="user-name-display"></span></p>
            <p>Ø§ÛŒÙ…ÛŒÙ„: <span id="user-email-display"></span></p>
        </div>
        
        <div class="user-form" id="user-form">
            <h2>Ù„Ø·ÙØ§ Ø§Ø·Ù„Ø§Ø¹Ø§Øª Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯</h2>
            <div class="form-group">
                <label for="first-name">Ù†Ø§Ù…</label>
                <input type="text" id="first-name" placeholder="Ù†Ø§Ù… Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" required>
            </div>
            <div class="form-group">
                <label for="last-name">ØªØ®Ù„Øµ</label>
                <input type="text" id="last-name" placeholder="ØªØ®Ù„Øµ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" required>
            </div>
            <div class="form-group">
                <label for="email">Ø¢Ø¯Ø±Ø³ Ø§ÛŒÙ…ÛŒÙ„</label>
                <input type="email" id="email" placeholder="Ø¢Ø¯Ø±Ø³ Ø§ÛŒÙ…ÛŒÙ„ Ø®ÙˆØ¯ Ø±Ø§ ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯" required>
            </div>
            <button class="btn" id="user-submit">Ø§Ø¯Ø§Ù…Ù‡ Ø¨Ù‡ Ø§Ù…ØªØ­Ø§Ù†</button>
        </div>
        
        <div class="instructions" style="display: none;" id="instructions">
            <h2>Ø¯Ø³ØªÙˆØ±Ø§Ù„Ø¹Ù…Ù„ Ø§Ù…ØªØ­Ø§Ù†</h2>
            <ul>
                <li>Ù…Ø¯Øª Ø²Ù…Ø§Ù† Ø¢Ø²Ù…ÙˆÙ† 30 Ø¯Ù‚ÛŒÙ‚Ù‡ Ù…ÛŒâ€ŒØ¨Ø§Ø´Ø¯</li>
                <li>Ø§ÛŒÙ† Ø§Ù…ØªØ­Ø§Ù† Ø´Ø§Ù…Ù„ 40 Ø³ÙˆØ§Ù„ ØªØ´Ø±ÛŒØ­ÛŒ Ø¯Ø± Ú†Ù‡Ø§Ø± Ø¨Ø®Ø´ (Ù…ÙØ§Ù‡ÛŒÙ… Ø§Ù…Ù†ÛŒØªØŒ Ø´Ø¨Ú©Ù‡ØŒ Ù„ÛŒÙ†ÙˆÚ©Ø³ØŒ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ) Ø§Ø³Øª</li>
                <li>Ø¨Ù‡ Ù‡Ø± Ø³ÙˆØ§Ù„ Ø¨Ø§ Ø¯Ù‚Øª ÙÚ©Ø± Ú©Ù†ÛŒØ¯ Ùˆ Ù¾Ø§Ø³Ø® Ú©Ø§Ù…Ù„ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯</li>
                <li>Ù…ÛŒâ€ŒØªÙˆØ§Ù†ÛŒØ¯ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ Ø±Ø§ Ù‚Ø¨Ù„ Ø§Ø² Ø§Ø±Ø³Ø§Ù„ ØªØºÛŒÛŒØ± Ø¯Ù‡ÛŒØ¯</li>
                <li>ØªØ§ÛŒÙ…Ø± Ø¨Ø§ Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ "Ø´Ø±ÙˆØ¹ Ø§Ù…ØªØ­Ø§Ù†" ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯</li>
                <li>Ù¾Ø³ Ø§Ø² Ø§ØªÙ…Ø§Ù… Ø²Ù…Ø§Ù†ØŒ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ Ø¨Ù‡ Ø·ÙˆØ± Ø®ÙˆØ¯Ú©Ø§Ø± Ø§Ø±Ø³Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆÙ†Ø¯</li>
            </ul>
        </div>
        
        <div class="question-container" style="display: none;" id="question-container">
            <!-- Questions will be dynamically inserted here -->
        </div>
        
        <div class="btn-container" style="display: none;" id="submit-btn-container">
            <button class="btn" id="submit-btn">Ø§Ø±Ø³Ø§Ù„ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§</button>
        </div>
        
        <div class="sending-email" id="sending-email">
            <h3>Ø¯Ø± Ø­Ø§Ù„ Ø§Ø±Ø³Ø§Ù„ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ Ø¨Ù‡ Ø§Ø³ØªØ§Ø¯...</h3>
            <p>Ù„Ø·ÙØ§ Ù…Ù†ØªØ¸Ø± Ø¨Ù…Ø§Ù†ÛŒØ¯ ØªØ§ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§ Ø§Ø±Ø³Ø§Ù„ Ø´ÙˆØ¯.</p>
        </div>
        
        <footer>
            <p>Silent Knights &copy; 2025 | Ø§Ù…ØªØ­Ø§Ù†   Ù†Ø³Ø®Ù‡ Û´Û° Ø³ÙˆØ§Ù„ÛŒ</p>
        </footer>
    </div>
    
    <div class="modal" id="start-modal">
        <div class="modal-content">
            <h2>Ø¢Ù…Ø§Ø¯Ù‡ Ø´Ø±ÙˆØ¹ Ù‡Ø³ØªÛŒØ¯ØŸ</h2>
            <p>Ø´Ù…Ø§ 30 Ø¯Ù‚ÛŒÙ‚Ù‡ Ø²Ù…Ø§Ù† Ø¯Ø§Ø±ÛŒØ¯ ØªØ§ Ø¨Ù‡ 40 Ø³ÙˆØ§Ù„ ØªØ´Ø±ÛŒØ­ÛŒ Ù¾Ø§Ø³Ø® Ø¯Ù‡ÛŒØ¯. ØªØ§ÛŒÙ…Ø± Ø¨Ù„Ø§ÙØ§ØµÙ„Ù‡ Ù¾Ø³ Ø§Ø² Ú©Ù„ÛŒÚ© Ø±ÙˆÛŒ "Ø´Ø±ÙˆØ¹ Ø§Ù…ØªØ­Ø§Ù†" ÙØ¹Ø§Ù„ Ù…ÛŒâ€ŒØ´ÙˆØ¯.</p>
            <button class="btn" id="start-exam">Ø´Ø±ÙˆØ¹ Ø§Ù…ØªØ­Ø§Ù†</button>
        </div>
    </div>
    
    <div class="modal" id="finished-modal">
        <div class="modal-content">
            <h2>Ø§Ù…ØªØ­Ø§Ù† ØªÚ©Ù…ÛŒÙ„ Ø´Ø¯!</h2>
            <p>Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø«Ø¨Øª Ùˆ Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯. Ø§Ø³ØªØ§Ø¯ Ø¯ÙˆØ±Ù‡ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ø¢Ù†â€ŒÙ‡Ø§ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ø®ÙˆØ§Ù‡Ø¯ Ú©Ø±Ø¯.</p>
        </div>
    </div>
    
    <!-- Ù…ÙˆØ¯Ø§Ù„ Ø¬Ø¯ÛŒØ¯ Ø¨Ø±Ø§ÛŒ Ù†Ù…Ø§ÛŒØ´ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ -->
    <div class="modal" id="results-modal">
        <div class="modal-content">
            <h2>Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§</h2>
            <div class="results-container" id="results-container">
                <!-- Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ú©Ø§Ø±Ø¨Ø± Ø§ÛŒÙ†Ø¬Ø§ Ù†Ù…Ø§ÛŒØ´ Ø¯Ø§Ø¯Ù‡ Ù…ÛŒâ€ŒØ´ÙˆØ¯ -->
            </div>
            <div class="review-buttons">
                <button class="review-btn" id="close-results">Ø¨Ø³ØªÙ†</button>
            </div>
        </div>
    </div>

    <script>
        // ==================== Ù„ÛŒØ³Øª Ø³ÙˆØ§Ù„Ø§Øª Ø¬Ø¯ÛŒØ¯ (Û´Û° Ø³ÙˆØ§Ù„ Ø¯Ø± Ú†Ù‡Ø§Ø± Ø¨Ø®Ø´) ====================
        const questions = [
            // Ø¨Ø®Ø´ Û±: Ù…ÙØ§Ù‡ÛŒÙ… Ùˆ Ø°Ù‡Ù†ÛŒØª Ø§Ù…Ù†ÛŒØªÛŒ
            { section: "ğŸ” Ø¨Ø®Ø´ Û±: Ù…ÙØ§Ù‡ÛŒÙ… Ùˆ Ø°Ù‡Ù†ÛŒØª Ø§Ù…Ù†ÛŒØªÛŒ", question: "Ø§Ú¯Ø± ÛŒÚ© Ø³ÛŒØ³ØªÙ… Ù‡ÛŒÚ† Ù¾ÙˆØ±ØªÛŒ Ø¨Ø§Ø² Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´Ø¯ Ø¢ÛŒØ§ ØµØ¯ Ø¯Ø± ØµØ¯ Ø§Ù…Ù† Ø§Ø³ØªØŸ Ú†Ø±Ø§ØŸ" },
            { section: null, question: "ÙØ±Ù‚ Ø¨Ø±Ø¯Ø§Ø´Øª ÛŒØ§ Ø°Ù‡Ù†ÛŒØª ÛŒÚ© Hacker Ùˆ Script Kiddie Ø¯Ø± Ú†ÛŒØ³ØªØŸ" },
            { section: null, question: "Ø§ÙˆÙ„ÛŒÙ† Ú©Ø§Ø±ÛŒ Ú©Ù‡ Ø¯Ø± Ø´Ø±ÙˆØ¹ Ø­Ù…Ù„Ø§Øª Ù‡Ú©ÛŒÙ†Ú¯ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ÛŒ Ú†ÛŒØ³ØªØŸ" },
            { section: null, question: "Ú†Ø±Ø§ Ø¨Ø¹Ø¶ÛŒ ÙˆÙ‚Øª Ù‡Ø§ Ø³ÛŒØ³ØªÙ… Ù‡Ø§ Ø¨Ø§ ÙˆØ¬ÙˆØ¯ patch Ú©Ø±Ø¯Ù† Ø®ÙˆØ¯ Ø¨Ø§Ø²Ù… Ù‡Ú© Ù…ÛŒØ´ÙˆÙ†Ø¯ØŸ" },
            { section: null, question: "Ø¨Ù†Ø¸Ø±Øª Ø®Ø·Ø±Ù†Ø§Ú©ØªØ±ÛŒÙ† Ø¶Ø¹Ù Ø§Ù…Ù†ÛŒØªÛŒ Ú†ÛŒØ³ØªØŒ Ø§Ù†Ø³Ø§Ù† ÛŒØ§ Ø³ÛŒØ³ØªÙ… ØŸ Ú†Ø±Ø§ØŸ" },
            { section: null, question: "Ø§Ú¯Ø± Ø¨Ø®ÙˆØ§Ù‡ÛŒ ÛŒÚ© Ø­Ù…Ù„Ù‡ Ù‚ÙˆÛŒ Ø±Ø§ ÛŒØ§Ø¯ Ø¨Ø¯Ù‡ÛŒ Ú©Ø¯Ø§Ù… Ø±Ø§ Ø§Ù†ØªØ®Ø§Ø¨ Ù…ÛŒÚ©Ù†ÛŒ Ùˆ Ú†Ø±Ø§ØŸ" },
            { section: null, question: "ÙØ±Ù‚ Ø¨ÛŒÙ† vulnerability Ùˆ Exploit Ø±Ø§ Ø¨Ø§ Ù…Ø«Ø§Ù„ ØªÙˆØ¶ÛŒØ­ Ø¨Ø¯Ù‡" },
            { section: null, question: "ÙØ±Ù‚ Ø¨ÛŒÙ† black hat, white hat , Gray hat  Ùˆ ØªÛŒÙ… Ù‡Ø§ÛŒ Blue team , Red team Ø¯Ø± Ú†ÛŒØ³ØªØŸ" },
            { section: null, question: "Ø¨Ù‡ Ú†ÛŒ Ù‡Ø¯Ù ÛŒØ§ Ù…Ù†Ø¸ÙˆØ±ÛŒ ÙˆØ§Ø±Ø¯ Ø¯Ù†ÛŒØ§ÛŒÛŒ Ø³Ø§ÛŒØ¨Ø±ÛŒ ÛŒØ§ Ù‡Ú© Ùˆ Ø§Ù…ÛŒÙ†Øª Ø´Ø¯ÛŒØŸ" },
            { section: null, question: "Ù‡Ù…ÛŒÙ† Ù„Ø­Ø¸Ù‡ Ø¨Ù‡ Ù‡ÛŒÚ†ÛŒ ÙÚ©Ø± Ù†Ú©Ù† Ùˆ Ø¨Ú¯Ùˆ Ø§Ú¯Ø± Ù‡Ù…Ù‡ Ø§ÛŒÙ†Ø§ÛŒ Ú©Ù‡ Ù…ÛŒØ®ÙˆØ§Ù‡ÛŒ Ø±Ø§ ØªÙ…Ø§Ù… Ú©Ø±Ø¯ÛŒ Ùˆ ÛŒØ§Ø¯ Ú¯Ø±ÙØªÛŒ Ú†ÛŒ Ù…ÛŒÚ©Ù†ÛŒ Ø¨Ø¹Ø¯Ø´ Ú†ÛŒØŸ" },
            
            // Ø¨Ø®Ø´ Û²: Ø´Ø¨Ú©Ù‡
            { section: "ğŸŒ Ø¨Ø®Ø´ Û²: Ø´Ø¨Ú©Ù‡ (OSI, TCP/IP, Ù¾Ø±ÙˆØªÚ©Ù„â€ŒÙ‡Ø§)", question: "Ú©Ø§Ø±Ú©Ø±Ø¯ Ù‡Ø± Ù„Ø§ÛŒÙ‡ Ø§Ø² OSI Ø±Ø§ Ø¨ØµÙˆØ±Øª Ø®Ù„Ø§ØµÙ‡ ØªÙˆØ¶ÛŒØ­ Ø¨Ø¯Ù‡" },
            { section: null, question: "Ø§Ú¯Ø± Ping Ø¨Ø³ØªÙ‡ Ø¨Ø§Ø´Ø¯ ÙˆÙ„ÛŒ HTTP Ø¨Ø§Ø² Ú†ÛŒ Ù†ØªÛŒØ¬Ù‡ Ù…ÛŒÚ¯ÛŒØ±ÛŒØŸ" },
            { section: null, question: "ÙØ±Ù‚ TCP Ùˆ UDP Ú†ÛŒØ³Øª Ùˆ Ú©Ø¯Ø§Ù…Ø´ Ø§Ù…Ù†ÛŒØª Ø®ÙˆØ¨ÛŒ Ø¯Ø§Ø±Ø¯ Ùˆ Ú†Ø±ØŸ" },
            { section: null, question: "ARP Spoofing  Ø±Ø§ Ø¨Ø§ Ù…Ø«Ø§Ù„ ÙˆØ§Ø¶Ø­ Ø¨Ø³Ø§Ø²" },
            { section: null, question: "NAT Ú†ÛŒ Ú©Ù…Ú©ÛŒ Ø¨Ù‡ Ø§Ù…ÛŒÙ†Øª Ù…ÛŒÚ©Ù†Ø¯ Ùˆ Ú†Ù‡ Ù…Ø­Ø¯ÙˆØ¯ÛŒØªÛŒ Ø¯Ø§Ø±Ø¯ØŸ" },
            { section: null, question: "DNS Ú†ÛŒÚ©Ø§Ø± Ù…ÛŒÚ©Ù†Ø¯ØŸ" },
            { section: null, question: "TCP/IP Ø¨Ø§ OSI Model Ú†ÛŒ ØªÙØ§ÙˆØªÛŒ Ø¯Ø§Ø±Ø¯ØŸ" },
            { section: null, question: "Man-In-The-Middle Attack  Ú†ÛŒØ³Øª ÙˆØ§Ø¶Ø­ Ø¨Ø³Ø§Ø²" },
            { section: null, question: "Ø§Ù†ÙˆØ§Ø¹ Wireless Encryption  Ø±Ø§ Ù†Ø§Ù… Ø¨Ø¨Ø± Ùˆ Ù‚ÙˆÛŒØªØ±ÛŒÙ† Ø´Ø§Ù† Ø±Ø§ Ù…Ø¹Ø±ÙÛŒ Ú©Ù†" },
            { section: null, question: "Ø§Ú¯Ø± Ø¨Ø®ÙˆØ§ÛŒÛŒ Ø¨Ù‡ ÛŒÚ© Ø³ÛŒØ³ØªÙ… Ø§Ø² Ø·Ø±ÛŒÙ‚ Ø§ÛŒ Ø¯Ùˆ Ù¾Ø±ÙˆØªÙˆÚ©Ù„Telnet , SSH  ÙˆØµÙ„ Ø´ÙˆÛŒ Ø§Ø² Ú©Ø¯Ø§Ù…Ø´ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒÚ©Ù†ÛŒ Ùˆ Ø¬Ø±Ø§ØŸ" },
            
            // Ø¨Ø®Ø´ Û³: Ù„ÛŒÙ†ÙˆÚ©Ø³
            { section: "ğŸ§ Ø¨Ø®Ø´ Û³: Ù„ÛŒÙ†ÙˆÚ©Ø³ØŒ Ø¯Ø³ØªØ±Ø³ÛŒâ€ŒÙ‡Ø§ Ùˆ Ù„Ø§Ú¯â€ŒÙ‡Ø§", question: "ÙØ±Ù‚ Ø¨ÛŒÙ† User Ø¹Ø§Ø¯ÛŒ Ø¨Ø§ root Ø¯Ø± Ú†ÛŒØ³ØªØŸ" },
            { section: null, question: "Ú†Ø±Ø§ /etc/passwd Ù‡Ù†ÙˆØ² Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´ÙˆØ¯ Ùˆ Ø¨Ø±Ø§ÛŒ Ú†ÛŒØŸ" },
            { section: null, question: "Ù„Ø§Ú¯â€ŒÙ‡Ø§ Ø¨ÛŒØ´ØªØ± Ø¨Ù‡ Ù†ÙØ¹ Defender Ø§Ø³Øª ÛŒØ§  AttackerØŸ" },
            { section: null, question: "Ú†Ø±Ø§ History Ø¯Ø± Ù„ÛŒÙ†ÙˆÚ©Ø³ Ø®Ø·Ø± Ø§Ù…Ù†ÛŒØªÛŒ Ø¯Ø§Ø±Ø¯ØŸ" },
            { section: null, question: "Ø§Ú¯Ø± Ø¯Ø³ØªØ±Ø³ÛŒ sudo Ù†Ø¯Ø§Ø´ØªÙ‡ Ø¨Ø§Ø´ÛŒØŒ Ø¯Ù†Ø¨Ø§Ù„ Ú†Ù‡ Ú†ÛŒØ²ÛŒ Ù…ÛŒâ€ŒÚ¯Ø±Ø¯ÛŒ Ú©Ù‡ Ø¨ØªÙˆØ§Ù†ÛŒ Ú©Ø§Ø± Ø§Øª Ø±Ø§ Ø§Ù†Ø¬Ø§Ù… Ø¨Ø¯Ù‡ÛŒØŸ" },
            { section: null, question: "ÛŒÚ© Ù„ÛŒÙ†ÙˆÚ©Ø³ Ø¯Ø§Ø±ÛŒ Ú©Ù‡ Ø§ÛŒÙ†ØªØ±Ù†Øª Ù†Ø¯Ø§Ø±Ø¯ØŒ  Payload Ø±Ø§ Ú†Ø·ÙˆØ± Ø§Ù†ØªÙ‚Ø§Ù„ Ù…ÛŒØ¯Ù‡ÛŒØŸ" },
            { section: null, question: "Ø¨Ø¹Ø¯ Ø§Ø² Ù†ØµØ¨ Ú©Ø§Ù„ÛŒ Ù„ÛŒÙ†ÙˆÚ©Ø³ Ø§ÙˆÙ„ÛŒÙ† Ú©Ø§Ø± Ú©Ù‡ Ø§Ù†Ø¬Ø§Ù… Ù…ÛŒØ¯Ù‡ÛŒ Ú†ÛŒØ³ØªØŸ" },
            { section: null, question: "Ø¨Ø®Ø§Ø·Ø± Ù‡Ú© ÙˆØ§ÛŒ ÙØ§ÛŒ ÛŒØ§ Ø­Ù…Ù„Ø§Øª ÙˆØ§ÛŒØ±Ù„ÛŒØ³ Ø§Ø² Ú©Ø¯Ø§Ù… Ø§Ø¨Ø²Ø§Ø± Ù‡Ø§ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒÚ©Ù†ÛŒØŸ" },
            { section: null, question: "Hashcat Ø¨Ø±Ø§ÛŒ Ú†ÛŒ Ø§Ø³ØªÙØ§Ø¯Ù‡ Ù…ÛŒØ´ÙˆØ¯ØŸ" },
            { section: null, question: "Metasploit framework  Ú†ÛŒØ³ØªØŸ" },
            
            // Ø¨Ø®Ø´ Û´: Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ
            { section: "ğŸ’» Ø¨Ø®Ø´ Û´: Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒØŒ Ø¢Ø³ÛŒØ¨â€ŒÙ¾Ø°ÛŒØ±ÛŒ Ú©Ø¯ Ùˆ ØªØ­Ù„ÛŒÙ„", question: "Ú†Ø±Ø§ ÛŒÚ© Ù‡Ú©Ø± Ø¨Ø§ÛŒØ¯ Ø¨Ø±Ù†Ø§Ù…Ù‡â€ŒÙ†ÙˆÛŒØ³ÛŒ Ø¨Ù„Ø¯ Ø¨Ø§Ø´Ø¯ØŸ" },
            { section: null, question: "Ú†Ø±Ø§ ÛŒÚ© Ù‡Ú©Ø± Ø¨Ø§ÛŒØ¯ Ú©Ø¯ Ø¯ÛŒÚ¯Ø±Ø§Ù† Ø±Ø§ Ø¨ÛŒØ´ØªØ± Ø§Ø² Ú©Ø¯ Ø®ÙˆØ¯Ø´ Ø¨Ø®ÙˆØ§Ù†Ø¯ØŸ" },
            { section: null, question: "Ú†Ø±Ø§ Obfuscation Ø¯Ø± Python Ù‡Ù… Ù„Ø§Ø²Ù… Ø§Ø³ØªØŒ Ø¨Ø§ ÙˆØ¬ÙˆØ¯ Ø³ÙˆØ±Ø³ Ø¨Ø§Ø² Ø¨ÙˆØ¯Ù†ØŸ" },
            { section: null, question: "Ø§ÛŒÙ† Ú©Ø¯ Ú†ÛŒ Ø®Ø·Ø±ÛŒ Ø¯Ø§Ø±Ø¯:\ncmd = input(\"Enter command: \")\nos.system(cmd)" },
            { section: null, question: "Ù…ÛŒØªÙˆØ§Ù†ÛŒ Ø§ÛŒ Ú©Ø¯ Ø±Ù‡ ØªÙˆØ¶ÛŒØ­ Ø¨Ø¯Ù‡ÛŒ Ú©Ù‡ Ú†ÛŒÚ©Ø§Ø± Ù…ÛŒÚ©Ù†Ø¯:\nusername = \"SMH\"\npassword = \"Pa$$w0rd\"\n\ntrue = 0\n\nwhile true != 1:\n        user = input(\"Enter username: \")\n        pas = input(\"Enter password: \")\n\n        if username == user and pas == password:\n            print(\"Login Successfuly\")\n            \n        else:\n            print(\"try again\")\n        true = 0" }
        ];

        // ØªØ§Ø¨Ø¹ Ø¨Ø±Ø§ÛŒ escape Ú©Ø±Ø¯Ù† Ú©Ø§Ø±Ø§Ú©ØªØ±Ù‡Ø§ÛŒ Ø®Ø§Øµ HTML (Ø¬Ù‡Øª Ù†Ù…Ø§ÛŒØ´ Ø§Ù…Ù† Ú©Ø¯Ù‡Ø§)
        function escapeHtml(unsafe) {
            return unsafe.replace(/[&<>"]/g, function(m) {
                if (m === '&') return '&amp;';
                if (m === '<') return '&lt;';
                if (m === '>') return '&gt;';
                if (m === '"') return '&quot;';
                return m;
            });
        }

        // DOM elements
        const questionContainer = document.querySelector('.question-container');
        const timerElement = document.getElementById('timer');
        const startModal = document.getElementById('start-modal');
        const finishedModal = document.getElementById('finished-modal');
        const resultsModal = document.getElementById('results-modal');
        const startExamBtn = document.getElementById('start-exam');
        const submitBtn = document.getElementById('submit-btn');
        const resultsContainer = document.getElementById('results-container');
        const closeResultsBtn = document.getElementById('close-results');
        const userForm = document.getElementById('user-form');
        const userSubmitBtn = document.getElementById('user-submit');
        const firstNameInput = document.getElementById('first-name');
        const lastNameInput = document.getElementById('last-name');
        const emailInput = document.getElementById('email');
        const instructions = document.getElementById('instructions');
        const submitBtnContainer = document.getElementById('submit-btn-container');
        const userInfo = document.getElementById('user-info');
        const userNameDisplay = document.getElementById('user-name-display');
        const userEmailDisplay = document.getElementById('user-email-display');
        const sendingEmail = document.getElementById('sending-email');
        
        // User data
        let userData = {
            firstName: '',
            lastName: '',
            email: ''
        };
        
        // Timer variables
        let timeLeft = 30 * 60; // 30 minutes in seconds
        let timerInterval;
        let userAnswers = new Array(questions.length).fill('');
        
        // Initialize the exam: Ù†Ù…Ø§ÛŒØ´ ØªÙ…Ø§Ù… Ø³ÙˆØ§Ù„Ø§Øª Ø¨Ø§ Ø¨Ø®Ø´â€ŒØ¨Ù†Ø¯ÛŒ
        function initExam() {
            questions.forEach((q, index) => {
                // Ø§Ú¯Ø± Ø§ÛŒÙ† Ø³ÙˆØ§Ù„ Ø§ÙˆÙ„ÛŒÙ† Ø³ÙˆØ§Ù„ ÛŒÚ© Ø¨Ø®Ø´ Ø¨Ø§Ø´Ø¯ØŒ Ø¹Ù†ÙˆØ§Ù† Ø¨Ø®Ø´ Ø±Ø§ Ø§Ø¶Ø§ÙÙ‡ Ú©Ù†
                if (q.section !== null) {
                    const sectionHeader = document.createElement('h3');
                    sectionHeader.className = 'section-header';
                    sectionHeader.textContent = q.section;
                    questionContainer.appendChild(sectionHeader);
                }
                
                const questionEl = document.createElement('div');
                questionEl.className = 'question';
                
                // Ø´Ù…Ø§Ø±Ù‡ Ø³ÙˆØ§Ù„ (Ø´Ù…Ø§Ø±Ù‡ Ú©Ù„ÛŒØŒ ØµØ±Ù Ù†Ø¸Ø± Ø§Ø² Ø¨Ø®Ø´)
                const questionNumber = document.createElement('div');
                questionNumber.className = 'question-number';
                questionNumber.textContent = `Ø³ÙˆØ§Ù„ ${index + 1} Ø§Ø² ${questions.length}`;
                
                // Ù…ØªÙ† Ø³ÙˆØ§Ù„: Ø§Ú¯Ø± Ø´Ø§Ù…Ù„ newline Ø¨Ø§Ø´Ø¯ (Ú©Ø¯) Ø¨Ø§ Ø§Ø³ØªØ§ÛŒÙ„ Ù…Ø®ØµÙˆØµ Ù†Ù…Ø§ÛŒØ´ Ø¨Ø¯Ù‡
                const questionTextDiv = document.createElement('div');
                if (q.question.includes('\n')) {
                    // Ø³ÙˆØ§Ù„ Ø´Ø§Ù…Ù„ Ú©Ø¯ Ø§Ø³Øª
                    const escapedCode = escapeHtml(q.question);
                    questionTextDiv.className = 'code-question';
                    questionTextDiv.textContent = q.question; // textContent Ø®ÙˆØ¯Ø´ escaped Ù…ÛŒâ€ŒÚ©Ù†Ø¯
                } else {
                    questionTextDiv.className = 'question-text';
                    questionTextDiv.textContent = q.question;
                }
                
                const textarea = document.createElement('textarea');
                textarea.className = 'answer-box';
                textarea.placeholder = 'Ù¾Ø§Ø³Ø® Ø®ÙˆØ¯ Ø±Ø§ Ø§ÛŒÙ†Ø¬Ø§ Ø¨Ù†ÙˆÛŒØ³ÛŒØ¯...';
                textarea.setAttribute('data-question', index);
                textarea.oninput = (e) => updateAnswer(index, e.target.value);
                
                const wordCount = document.createElement('div');
                wordCount.className = 'word-count';
                wordCount.id = `word-count-${index}`;
                wordCount.textContent = '0 Ú©Ù„Ù…Ù‡';
                
                questionEl.appendChild(questionNumber);
                questionEl.appendChild(questionTextDiv);
                questionEl.appendChild(textarea);
                questionEl.appendChild(wordCount);
                questionContainer.appendChild(questionEl);
            });
        }

        // Update answer function
        function updateAnswer(index, value) {
            userAnswers[index] = value;
            const wordCount = value.trim() === '' ? 0 : value.trim().split(/\s+/).length;
            document.getElementById(`word-count-${index}`).textContent = `${wordCount} Ú©Ù„Ù…Ù‡`;
        }
        
        // Handle user form submission
        userSubmitBtn.addEventListener('click', function(e) {
            e.preventDefault();
            
            // Validate form
            if (!firstNameInput.value.trim() || !lastNameInput.value.trim() || !emailInput.value.trim()) {
                alert('Ù„Ø·ÙØ§ ØªÙ…Ø§Ù… ÙÛŒÙ„Ø¯Ù‡Ø§ Ø±Ø§ Ù¾Ø± Ú©Ù†ÛŒØ¯');
                return;
            }
            
            if (!isValidEmail(emailInput.value)) {
                alert('Ù„Ø·ÙØ§ ÛŒÚ© Ø¢Ø¯Ø±Ø³ Ø§ÛŒÙ…ÛŒÙ„ Ù…Ø¹ØªØ¨Ø± ÙˆØ§Ø±Ø¯ Ú©Ù†ÛŒØ¯');
                return;
            }
            
            // Save user data
            userData.firstName = firstNameInput.value.trim();
            userData.lastName = lastNameInput.value.trim();
            userData.email = emailInput.value.trim();
            
            // Hide form and show exam info
            userForm.style.display = 'none';
            userInfo.style.display = 'block';
            userNameDisplay.textContent = `${userData.firstName} ${userData.lastName}`;
            userEmailDisplay.textContent = userData.email;
            
            // Show instructions and start modal
            instructions.style.display = 'block';
            startModal.style.display = 'flex';
        });
        
        // Email validation
        function isValidEmail(email) {
            const re = /^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;
            return re.test(String(email).toLowerCase());
        }
        
        // Start the exam
        function startExam() {
            startModal.style.display = 'none';
            questionContainer.style.display = 'block';
            submitBtnContainer.style.display = 'flex';
            
            // Start timer
            timerInterval = setInterval(updateTimer, 1000);
        }
        
        // Update timer
        function updateTimer() {
            timeLeft--;
            
            if (timeLeft <= 0) {
                clearInterval(timerInterval);
                submitExam();
            }
            
            const minutes = Math.floor(timeLeft / 60);
            const seconds = timeLeft % 60;
            
            timerElement.textContent = `${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
            
            // Change color when time is running out
            if (minutes < 5) {
                timerElement.classList.add('time-warning');
            }
        }
        
        // Submit exam
        function submitExam() {
            clearInterval(timerInterval);
            
            // Show sending email notification
            sendingEmail.style.display = 'block';
            
            // Send email with results
            sendEmailResults();
            
            // Show results modal
            showResults();
        }
        
        // Send email with results
        function sendEmailResults() {
            // Prepare email content
            const subject = `Ø§Ù…ØªØ­Ø§Ù† Ù‡Ú©Ø± ØµÙØ± - ${userData.firstName} ${userData.lastName}`;
            
            let body = `Ù†ØªØ§ÛŒØ¬ Ø§Ù…ØªØ­Ø§Ù† Ù‡Ú©Ø± ØµÙØ± (Û´Û° Ø³ÙˆØ§Ù„)\n`;
            body += `Ù†Ø§Ù…: ${userData.firstName} ${userData.lastName}\n`;
            body += `Ø§ÛŒÙ…ÛŒÙ„: ${userData.email}\n`;
            body += `ØªØ§Ø±ÛŒØ®: ${new Date().toLocaleString('fa-IR')}\n\n`;
            
            body += "Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø´Ø±Ú©Øª Ú©Ù†Ù†Ø¯Ù‡:\n\n";
            questions.forEach((q, index) => {
                body += `Ø³ÙˆØ§Ù„ ${index + 1}: ${q.question}\n`;
                body += `Ù¾Ø§Ø³Ø®: ${userAnswers[index] || 'Ù¾Ø§Ø³Ø®ÛŒ Ø¯Ø§Ø¯Ù‡ Ù†Ø´Ø¯Ù‡'}\n`;
                body += `---\n\n`;
            });
            
            // Use EmailJS to send the email
            emailjs.send("service_b9r47cr", "template_sqx8wkj", {
                to_email: "modasirhashimi0101@gmail.com",
                from_name: "Ø§Ù…ØªØ­Ø§Ù† Ù‡Ú©Ø± ØµÙØ±",
                subject: subject,
                message: body
            })
            .then(function(response) {
                console.log("Email sent successfully", response);
                sendingEmail.innerHTML = "<h3>Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ Ø¨Ø§ Ù…ÙˆÙÙ‚ÛŒØª Ø§Ø±Ø³Ø§Ù„ Ø´Ø¯!</h3><p>Ø§Ø³ØªØ§Ø¯ Ø¯ÙˆØ±Ù‡ Ø¨Ù‡ Ø²ÙˆØ¯ÛŒ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§ Ø±Ø§ Ø¨Ø±Ø±Ø³ÛŒ Ø®ÙˆØ§Ù‡Ø¯ Ú©Ø±Ø¯.</p>";
            })
            .catch(function(error) {
                console.error("Failed to send email", error);
                sendingEmail.innerHTML = "<h3>Ø§Ø±Ø³Ø§Ù„ Ø§ÛŒÙ…ÛŒÙ„ Ø¨Ø§ Ù…Ø´Ú©Ù„ Ù…ÙˆØ§Ø¬Ù‡ Ø´Ø¯</h3><p>Ø§Ù…Ø§ Ù¾Ø§Ø³Ø®â€ŒÙ‡Ø§ÛŒ Ø´Ù…Ø§ Ø°Ø®ÛŒØ±Ù‡ Ø´Ø¯Ù‡ Ø§Ø³Øª. Ù„Ø·ÙØ§ Ø¨Ø§ Ø§Ø³ØªØ§Ø¯ ØªÙ…Ø§Ø³ Ø¨Ú¯ÛŒØ±ÛŒØ¯.</p>";
            });
        }
        
        // Show detailed results
        function showResults() {
            // Clear previous results
            resultsContainer.innerHTML = '';
            
            // Generate results for each question
            questions.forEach((q, index) => {
                const userAnswer = userAnswers[index];
                
                const resultItem = document.createElement('div');
                resultItem.className = `result-item`;
                
                // Ù†Ù…Ø§ÛŒØ´ Ø³ÙˆØ§Ù„ (Ø¨Ø§ Ø­ÙØ¸ Ø®Ø·ÙˆØ·)
                const questionDisplay = q.question.includes('\n') ? 
                    `<pre style="background:#1e2b3a; padding:10px; border-radius:8px; font-family:monospace; direction:ltr; text-align:left;">${escapeHtml(q.question)}</pre>` : 
                    q.question;
                
                resultItem.innerHTML = `
                    <div class="result-question">Ø³ÙˆØ§Ù„ ${index + 1}: ${questionDisplay}</div>
                    <div class="result-answer">
                        <strong>Ù¾Ø§Ø³Ø® Ø´Ù…Ø§:</strong><br>
                        ${userAnswer ? userAnswer.replace(/\n/g, '<br>') : '<em style="color: #999">Ù¾Ø§Ø³Ø®ÛŒ Ø¯Ø§Ø¯Ù‡ Ù†Ø´Ø¯Ù‡</em>'}
                    </div>
                `;
                
                resultsContainer.appendChild(resultItem);
            });
            
            // Show results modal
            resultsModal.style.display = 'flex';
        }
        
        // Event listeners
        startExamBtn.addEventListener('click', startExam);
        submitBtn.addEventListener('click', submitExam);
        
        closeResultsBtn.addEventListener('click', function() {
            resultsModal.style.display = 'none';
            finishedModal.style.display = 'flex';
        });
        
        // Initialize the exam when page loads
        window.addEventListener('load', initExam);

        // Make updateAnswer function available globally
        window.updateAnswer = updateAnswer;
    </script>
    
    <!-- Load EmailJS SDK -->
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <script type="text/javascript">
        // Initialize EmailJS with your public key
        (function() {
            emailjs.init("zTlaq0rOCJbPFLB-t");
        })();
    </script>
</body>
</html>
